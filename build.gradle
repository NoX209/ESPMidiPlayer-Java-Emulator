
apply plugin: 'java'
apply plugin: 'eclipse'

repositories {
	mavenCentral()

	maven {
		url "https://jitpack.io"
        url "https://repo.eclipse.org/content/repositories/paho-snapshots/"
	}
}

dependencies {
    implementation 'org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.2.1'
	implementation 'com.google.code.gson:gson:2.8.6'
}

sourceSets {
	main.java.srcDir "src/main/java"
	main.resources.srcDir "src/main/resources"
}

jar {
	manifest {
		attributes (
			'Class-Path' : configurations.runtimeClasspath.collect{ it.getName() }.join(' '),
			'Main-Class' : 'javaMidi.Main')
	} from configurations.compile into ''
}

task getDeps(type : Copy) {
	from sourceSets.main.runtimeClasspath into 'build/libs/'
}